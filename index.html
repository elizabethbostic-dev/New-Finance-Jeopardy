<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>DeSoto ISD Finance Jeopardy</title>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900;950&display=swap" rel="stylesheet">
Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
Â  Â  <style>
Â  Â  Â  Â  /* Base styles */
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Inter', sans-serif;
Â  Â  Â  Â  Â  Â  background-color: #1a202c; /* Dark Blue/Black background */
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Category Headers */
Â  Â  Â  Â  .category-header {
Â  Â  Â  Â  Â  Â  background-color: #0b152d; /* Darker blue */
Â  Â  Â  Â  Â  Â  color: #fcd34d; /* Yellow */
Â  Â  Â  Â  Â  Â  height: 100px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  border-bottom: 4px solid #fcd34d;
Â  Â  Â  Â  Â  Â  border-radius: 4px 4px 0 0;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 0.5rem;
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Question Cards */
Â  Â  Â  Â  .card {
Â  Â  Â  Â  Â  Â  background-color: #0d3b66; /* Deep Jeopardy Blue */
Â  Â  Â  Â  Â  Â  color: #fcd34d; /* Yellow */
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: transform 0.1s, opacity 0.3s;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  font-size: 2.5rem;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  border: 2px solid #1a202c;
Â  Â  Â  Â  Â  Â  height: 100px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .card:hover:not(.answered) {
Â  Â  Â  Â  Â  Â  transform: scale(1.03);
Â  Â  Â  Â  Â  Â  background-color: #1c529a;
Â  Â  Â  Â  }
Â  Â  Â  Â  .answered {
Â  Â  Â  Â  Â  Â  background-color: #3f4e64; /* Grayed out */
Â  Â  Â  Â  Â  Â  color: #8c98a9;
Â  Â  Â  Â  Â  Â  cursor: default;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  box-shadow: none;
Â  Â  Â  Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Daily Double Styling */
Â  Â  Â  Â  .daily-double {
Â  Â  Â  Â  Â  Â  background-color: #d97706; /* Orange */
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-size: 2rem;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 15px rgba(255, 165, 0, 0.7);
Â  Â  Â  Â  }
Â  Â  Â  Â  .daily-double:hover:not(.answered) {
Â  Â  Â  Â  Â  Â  background-color: #fb923c;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Modal Styles */
Â  Â  Â  Â  .modal-overlay {
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.95);
Â  Â  Â  Â  Â  Â  z-index: 50;
Â  Â  Â  Â  }
Â  Â  Â  Â  .modal-content {
Â  Â  Â  Â  Â  Â  background-color: #0d3b66;
Â  Â  Â  Â  Â  Â  border: 8px solid #fcd34d;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  min-height: 50vh;
Â  Â  Â  Â  }
Â  Â  Â  Â  .reveal-button {
Â  Â  Â  Â  Â  Â  background-color: #d97706;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  transition: background-color 0.1s;
Â  Â  Â  Â  }
Â  Â  Â  Â  .reveal-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #fb923c;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Scoreboard Active Highlight */
Â  Â  Â  Â  .team-score-active {
Â  Â  Â  Â  Â  Â  border: 4px solid #fcd34d !important;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px rgba(252, 211, 77, 0.8);
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Responsive adjustments */
Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  .category-header {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 0.8rem;
Â  Â  Â  Â  Â  Â  Â  Â  height: 80px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .card {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  Â  Â  Â  Â  Â  height: 80px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body class="min-h-screen p-2 sm:p-6">

Â  Â  <div class="max-w-7xl mx-auto">
Â  Â  Â  Â  <div class="flex flex-col sm:flex-row justify-between items-center p-4 mb-6 bg-gray-800 rounded-lg shadow-xl">
Â  Â  Â  Â  Â  Â  <h1 class="text-3xl sm:text-4xl font-black text-white mb-2 sm:mb-0">DeSoto ISD FINANCE JEOPARDY</h1>
Â  Â  Â  Â  Â  Â  <div class="flex items-center space-x-4">
Â  Â  Â  Â  Â  Â  Â  Â  <div id="team1-score-container"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="p-3 rounded-lg border-2 border-transparent transition duration-300 cursor-pointer bg-gray-700 team-score-active"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onclick="setActiveTeam('team1')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-lg font-bold text-white flex items-center space-x-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-hammer text-yellow-400"></i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>The Compilers (Key 1)</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="score-team1" class="text-3xl font-bold text-green-400">$0</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="team2-score-container"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="p-3 rounded-lg border-2 border-transparent transition duration-300 cursor-pointer"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onclick="setActiveTeam('team2')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-lg font-bold text-white flex items-center space-x-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <i class="fas fa-clipboard-check text-gray-400"></i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span>The Auditors (Key 2)</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="score-team2" class="text-3xl font-bold text-gray-400">$0</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="game-board" class="grid grid-cols-5 gap-2 sm:gap-4">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div id="final-jeopardy-btn-container" class="mt-8 text-center hidden">
Â  Â  Â  Â  Â  Â  <button onclick="startFinalJeopardy()" class="bg-purple-700 hover:bg-purple-800 text-white px-12 py-5 text-3xl font-black rounded-full shadow-2xl transition duration-150">
Â  Â  Â  Â  Â  Â  Â  Â  START FINAL JEOPARDY
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>

Â  Â  </div>

Â  Â  <div id="qa-modal" class="fixed inset-0 hidden items-center justify-center p-4 modal-overlay">
Â  Â  Â  Â  <div class="modal-content w-full max-w-4xl p-6 shadow-2xl">
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <p id="qa-category" class="text-center text-xl sm:text-2xl font-bold text-white mb-4"></p>
Â  Â  Â  Â  Â  Â  <p id="qa-points" class="text-center text-3xl sm:text-4xl font-extrabold text-green-400 mb-6"></p>

Â  Â  Â  Â  Â  Â  <div id="wager-section" class="hidden text-center mb-6">
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xl font-bold text-yellow-400 mb-3">WAGER FOR DAILY DOUBLE:</p>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="daily-double-wager" placeholder="Enter Wager Amount" class="p-3 text-2xl text-center bg-gray-700 text-white rounded-lg w-full max-w-sm" min="5" />
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="submitWager()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 text-xl rounded-full font-bold transition duration-150 mt-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Submit Wager
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="qa-display" class="min-h-[100px] flex items-center justify-center p-4 text-center text-3xl sm:text-4xl font-black text-white border-4 border-white rounded-lg">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="buzzer-container" class="mt-6 flex justify-center space-x-4 hidden">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="buzzer-team1" onclick="buzzerClicked('team1')" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 text-lg rounded-full font-bold transition duration-150"><i class="fas fa-hand-point-up"></i> Compilers (1)</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="buzzer-team2" onclick="buzzerClicked('team2')" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 text-lg rounded-full font-bold transition duration-150"><i class="fas fa-hand-point-up"></i> Auditors (2)</button>
Â  Â  Â  Â  Â  Â  </div>


Â  Â  Â  Â  Â  Â  <div id="answer-reveal" class="hidden mt-6 text-center">
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-lg font-bold text-yellow-500 mb-2">Answer:</p>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="qa-answer" class="text-2xl sm:text-3xl font-semibold text-white p-4 bg-gray-700 rounded-lg">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <div id="action-buttons" class="mt-8 flex justify-center space-x-4">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="showAnswer()" id="reveal-btn" class="reveal-button px-8 py-3 text-2xl rounded-full font-bold">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Reveal Answer
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="scoring-btns" class="hidden space-x-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="updateScore('correct')" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 text-xl rounded-full font-bold transition duration-150">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Correct (+Points)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="updateScore('incorrect')" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 text-xl rounded-full font-bold transition duration-150">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Incorrect (-Points)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="closeModal()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 text-xl rounded-full font-bold transition duration-150">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Close
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="fj-modal" class="fixed inset-0 hidden items-center justify-center p-4 modal-overlay">
Â  Â  Â  Â  <div class="modal-content w-full max-w-4xl p-6 shadow-2xl">
Â  Â  Â  Â  Â  Â  <h2 class="text-4xl font-black text-center text-yellow-400 mb-6">FINAL JEOPARDY</h2>
Â  Â  Â  Â  Â  Â  <p class="text-2xl font-bold text-white text-center mb-6" id="fj-category">Payroll Compliance Audits</p>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="fj-wager-inputs" class="space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="fj-clue-display" class="hidden">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="min-h-[100px] flex items-center justify-center p-6 text-center text-4xl font-black text-white border-4 border-white rounded-lg my-8" id="fj-clue-text">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-center text-2xl font-bold text-yellow-500 mb-4 hidden" id="fj-answer-reveal">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Answer: <span id="fj-answer-text" class="text-white"></span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="fj-buttons" class="mt-8 flex justify-center space-x-4">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="revealFinalClue()" id="fj-reveal-clue-btn" class="bg-green-600 hover:bg-green-700 text-white px-8 py-3 text-xl rounded-full font-bold">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Reveal Final Clue
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="revealFinalAnswer()" id="fj-reveal-answer-btn" class="reveal-button px-8 py-3 text-xl rounded-full font-bold hidden">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Reveal Answer
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="calculateFinalScores()" id="fj-calculate-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 text-xl rounded-full font-bold hidden">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Calculate Final Scores
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="fj-results" class="mt-6 text-center text-3xl font-black text-white hidden">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <script>
Â  Â  Â  Â  // --- Configuration & Data ---
Â  Â  Â  Â  // Maximum number of questions in any category (used for Daily Double distribution)
Â  Â  Â  Â  const MAX_Q_PER_CAT = 5;Â 
Â  Â  Â  Â  const DD_COUNT = 2; // Two Daily Doubles in the main round
Â  Â  Â  Â  const FINAL_JEOPARDY_CATEGORY = "Payroll Compliance Audits";
Â  Â  Â  Â  const FINAL_JEOPARDY_CLUE = "This primary federal law requires employers to keep accurate records of hours worked and is the foundation for avoiding 'Wage Theft' claims.";
Â  Â  Â  Â  const FINAL_JEOPARDY_ANSWER = "What is the Fair Labor Standards Act (FLSA)?";

Â  Â  Â  Â  // Game data structured for 5 categories by 5 point levels
Â  Â  Â  Â  const GAME_DATA = [
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  name: "Payroll ðŸ’¸",
Â  Â  Â  Â  Â  Â  Â  Â  questions: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "This approval must take place prior to performing duties that exceed regular hours.", a: "What is **overtime approval**?", points: 100 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "Name the day of the week that timecards should be approved by the Principal/Budget Owner.", a: "What is **Tuesday**?", points: 200 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "The primary federal Act that regulates minimum wage rates, overtime pay, and equal pay for employees.", a: "What is the **Fair Labor Standards Act (FLSA)**?", points: 300 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "The official document required to support payroll costs for personnel whose salaries are paid with federal funds.", a: "What is **time and effort (semi-annual certification)**?", points: 400 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "What is the primary consequence for an employee if a timecard is not approved by the Tuesday COB deadline?", a: "What is a **payroll processing delay**?", points: 500 },
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  name: "Purchasing / AP ðŸ§¾",
Â  Â  Â  Â  Â  Â  Â  Â  questions: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "This document creates a binding commitment with the vendor.", a: "What is a **purchase order**?", points: 100 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "All DeSoto ISD invoices should be sent to this finance email address.", a: "What is **financeinvoice@desotoisd.org**?", points: 200 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "The Accounts Payable process that determines whether an invoice can be paid (matching PO, Receiver, and Invoice).", a: "What is **three-way match**?", points: 300 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "This request must be entered when the standard procurement process is not followed.", a: "What is a **check request**?", points: 400 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "For an invoice to be processed, this date must be after the purchase order creation date.", a: "What is the **invoice date**?", points: 500 },
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  name: "Budget ðŸ“Š",
Â  Â  Â  Â  Â  Â  Â  Â  questions: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "Revenue for DeSoto ISD comes from these three primary sources.", a: "What is **federal, state, and local**?", points: 100 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "This code is used to separately identify revenues and expenses for each local, state, and federal program.", a: "What is a **fund code**?", points: 200 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "This indicator is used as a projection of funds allocated to the campuses and departments.", a: "What is **the budget**?", points: 300 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "Budget amounts cannot be transferred between fund codes, but with board approval, these codes may be transferred.", a: "What is a **function code**?", points: 400 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "The calculation method TEA uses for determining school district funding.", a: "What is **average daily attendance (ADA)**?", points: 500 },
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  name: "Grants (Special Revenue) ðŸ’°",
Â  Â  Â  Â  Â  Â  Â  Â  questions: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "This strategic plan document outlines a schoolâ€™s goals for the academic year and is required for grant funding.", a: "What is a **campus improvement plan (CIP)**?", points: 100 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "A legal document from TEA that indicates a grant has been awarded and funds may be requested.", a: "What is the **Notice of Grant Award (NOGA)**?", points: 200 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "This must be completed within 60 days of returning from a conference (like TASBO) to receive a reimbursement.", a: "What is an **expense report**?", points: 300 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "The federal guide that establishes per diem rates to reimburse employees for lodging and meals.", a: "What is the **GSA (US General Services Administration)**?", points: 400 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "What is the primary concern when purchasing materials using grant funds?", a: "What is **allowability and alignment to the grant budget**?", points: 500 },
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  name: "Cash Handling / Audit ðŸ”’",
Â  Â  Â  Â  Â  Â  Â  Â  questions: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "An acceptable receipt must contain vendor name, date, description, and this final item.", a: "What is the **payment method**?", points: 100 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "An official financial examination of an organizationâ€™s accounts to ensure compliance.", a: "What is an **audit**?", points: 200 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "The only authorized signer of all contracts and agreements for DeSoto ISD.", a: "Who is **the Superintendent**?", points: 300 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "This type of asset has a unit cost of **$5,000 or more**.", a: "What is a **capital asset**?", points: 400 },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { q: "What are the two key internal control elements that must be separated for strong accountability over funds?", a: "What are **custody of assets and record keeping**?", points: 500 },
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  ];

Â  Â  Â  Â  // --- Game State ---
Â  Â  Â  Â  let teamScores = {
Â  Â  Â  Â  Â  Â  'team1': 0, // The Compilers
Â  Â  Â  Â  Â  Â  'team2': 0Â  // The Auditors
Â  Â  Â  Â  };
Â  Â  Â  Â  let activeTeam = 'team1';
Â  Â  Â  Â  let currentCard = null;
Â  Â  Â  Â  let answeredCardCount = 0;
Â  Â  Â  Â  let totalCards = GAME_DATA.length * MAX_Q_PER_CAT;
Â  Â  Â  Â  let isDailyDouble = false;
Â  Â  Â  Â  let currentWager = 0;
Â  Â  Â  Â  let dailyDoubleLocations = [];
Â  Â  Â  Â  let teamWagers = {}; // Stores Final Jeopardy wagers

Â  Â  Â  Â  
Â  Â  Â  Â  // --- Core Game Logic ---

Â  Â  Â  Â  // Distributes Daily Double locations randomly
Â  Â  Â  Â  function placeDailyDoubles() {
Â  Â  Â  Â  Â  Â  const numCategories = GAME_DATA.length;
Â  Â  Â  Â  Â  Â  const potentialLocations = [];
Â  Â  Â  Â  Â  Â  for (let c = 0; c < numCategories; c++) {
Â  Â  Â  Â  Â  Â  Â  Â  // Ensure daily doubles aren't placed in the 5th (penalty/bonus) category if applicable
Â  Â  Â  Â  Â  Â  Â  Â  if (GAME_DATA[c].name.includes("Bonus/Penalty")) continue;Â 
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  for (let q = 0; q < MAX_Q_PER_CAT; q++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  potentialLocations.push(`${c}-${q}`);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Shuffle and pick DD_COUNT locations
Â  Â  Â  Â  Â  Â  for (let i = potentialLocations.length - 1; i > 0; i--) {
Â  Â  Â  Â  Â  Â  Â  Â  const j = Math.floor(Math.random() * (i + 1));
Â  Â  Â  Â  Â  Â  Â  Â  [potentialLocations[i], potentialLocations[j]] = [potentialLocations[j], potentialLocations[i]];
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  dailyDoubleLocations = potentialLocations.slice(0, DD_COUNT);
Â  Â  Â  Â  }

Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Sets the active team for scoring and updates the UI.
Â  Â  Â  Â  Â * @param {string} team 'team1' or 'team2'
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function setActiveTeam(team) {
Â  Â  Â  Â  Â  Â  activeTeam = team;
Â  Â  Â  Â  Â  Â  updateScoreDisplay();
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Function to initialize the game board
Â  Â  Â  Â  function initializeBoard() {
Â  Â  Â  Â  Â  Â  placeDailyDoubles();
Â  Â  Â  Â  Â  Â  const board = document.getElementById('game-board');
Â  Â  Â  Â  Â  Â  board.innerHTML = '';Â 

Â  Â  Â  Â  Â  Â  // 1. Add Category Headers
Â  Â  Â  Â  Â  Â  GAME_DATA.forEach(category => {
Â  Â  Â  Â  Â  Â  Â  Â  const header = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  header.className = 'category-header rounded';
Â  Â  Â  Â  Â  Â  Â  Â  header.textContent = category.name;
Â  Â  Â  Â  Â  Â  Â  Â  board.appendChild(header);
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // 2. Add Question Cards
Â  Â  Â  Â  Â  Â  GAME_DATA.forEach((category, catIndex) => {
Â  Â  Â  Â  Â  Â  Â  Â  category.questions.forEach((question, qIndex) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const card = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  card.id = `card-${catIndex}-${qIndex}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  card.className = 'card rounded-lg';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  card.textContent = `$${question.points}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  card.dataset.catIndex = catIndex;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  card.dataset.qIndex = qIndex;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const location = `${catIndex}-${qIndex}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (dailyDoubleLocations.includes(location)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  card.classList.add('daily-double');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  card.textContent = 'DAILY DOUBLE';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  card.onclick = () => openModal(catIndex, qIndex);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  board.appendChild(card);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  updateScoreDisplay();
Â  Â  Â  Â  }

Â  Â  Â  Â  // Function to update the score display
Â  Â  Â  Â  function updateScoreDisplay() {
Â  Â  Â  Â  Â  Â  const team1Container = document.getElementById('team1-score-container');
Â  Â  Â  Â  Â  Â  const team2Container = document.getElementById('team2-score-container');
Â  Â  Â  Â  Â  Â  const score1El = document.getElementById('score-team1');
Â  Â  Â  Â  Â  Â  const score2El = document.getElementById('score-team2');
Â  Â  Â  Â  Â  Â  const icon1 = team1Container.querySelector('i');
Â  Â  Â  Â  Â  Â  const icon2 = team2Container.querySelector('i');

Â  Â  Â  Â  Â  Â  // 1. Update the actual score text
Â  Â  Â  Â  Â  Â  score1El.textContent = `$${teamScores.team1}`;
Â  Â  Â  Â  Â  Â  score2El.textContent = `$${teamScores.team2}`;

Â  Â  Â  Â  Â  Â  // 2. Reset styling and icons for both teams
Â  Â  Â  Â  Â  Â  team1Container.classList.remove('team-score-active');
Â  Â  Â  Â  Â  Â  team2Container.classList.remove('team-score-active');
Â  Â  Â  Â  Â  Â  score1El.classList.remove('text-red-400', 'text-green-400', 'text-gray-400');
Â  Â  Â  Â  Â  Â  score2El.classList.remove('text-red-400', 'text-green-400', 'text-gray-400');
Â  Â  Â  Â  Â  Â  icon1.classList.remove('text-yellow-400', 'text-gray-400');
Â  Â  Â  Â  Â  Â  icon2.classList.remove('text-yellow-400', 'text-gray-400');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 3. Set score colors (Green/Red/Dim)
Â  Â  Â  Â  Â  Â  // Determine active team styling
Â  Â  Â  Â  Â  Â  if (activeTeam === 'team1') {
Â  Â  Â  Â  Â  Â  Â  Â  team1Container.classList.add('team-score-active');
Â  Â  Â  Â  Â  Â  Â  Â  icon1.classList.add('text-yellow-400');
Â  Â  Â  Â  Â  Â  Â  Â  icon2.classList.add('text-gray-400');
Â  Â  Â  Â  Â  Â  Â  Â  // Active team score color
Â  Â  Â  Â  Â  Â  Â  Â  score1El.classList.add(teamScores.team1 < 0 ? 'text-red-400' : 'text-green-400');
Â  Â  Â  Â  Â  Â  Â  Â  // Inactive team score color
Â  Â  Â  Â  Â  Â  Â  Â  score2El.classList.add('text-gray-400');
Â  Â  Â  Â  Â  Â  } else { // activeTeam === 'team2'
Â  Â  Â  Â  Â  Â  Â  Â  team2Container.classList.add('team-score-active');
Â  Â  Â  Â  Â  Â  Â  Â  icon2.classList.add('text-yellow-400');
Â  Â  Â  Â  Â  Â  Â  Â  icon1.classList.add('text-gray-400');
Â  Â  Â  Â  Â  Â  Â  Â  // Active team score color
Â  Â  Â  Â  Â  Â  Â  Â  score2El.classList.add(teamScores.team2 < 0 ? 'text-red-400' : 'text-green-400');
Â  Â  Â  Â  Â  Â  Â  Â  // Inactive team score color
Â  Â  Â  Â  Â  Â  Â  Â  score1El.classList.add('text-gray-400');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 4. Check for Final Jeopardy readiness
Â  Â  Â  Â  Â  Â  checkFinalJeopardyReady();
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- Question Modal Logic ---

Â  Â  Â  Â  // Function to open the question modal
Â  Â  Â  Â  function openModal(catIndex, qIndex) {
Â  Â  Â  Â  Â  Â  currentCard = GAME_DATA[catIndex].questions[qIndex];
Â  Â  Â  Â  Â  Â  const cardElement = document.getElementById(`card-${catIndex}-${qIndex}`);
Â  Â  Â  Â  Â  Â  if (cardElement.classList.contains('answered')) return;

Â  Â  Â  Â  Â  Â  // Reset modal state
Â  Â  Â  Â  Â  Â  document.getElementById('qa-modal').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('qa-modal').classList.add('flex');
Â  Â  Â  Â  Â  Â  document.getElementById('answer-reveal').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('scoring-btns').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('reveal-btn').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-container').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('wager-section').classList.add('hidden');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Re-enable buzzers
Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-team1').disabled = false;
Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-team2').disabled = false;
Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-team1').classList.add('bg-blue-500');
Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-team2').classList.add('bg-blue-500');
Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-team1').classList.remove('bg-gray-400');
Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-team2').classList.remove('bg-gray-400');

Â  Â  Â  Â  Â  Â  const location = `${catIndex}-${qIndex}`;
Â  Â  Â  Â  Â  Â  isDailyDouble = dailyDoubleLocations.includes(location);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById('qa-category').textContent = GAME_DATA[catIndex].name.toUpperCase();

Â  Â  Â  Â  Â  Â  if (isDailyDouble) {
Â  Â  Â  Â  Â  Â  Â  Â  // DAILY DOUBLE SETUP
Â  Â  Â  Â  Â  Â  Â  Â  // Max wager is the current score or $500, whichever is greater
Â  Â  Â  Â  Â  Â  Â  Â  const maxWager = Math.max(500, Math.abs(teamScores[activeTeam]));
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('qa-points').textContent = `DAILY DOUBLE! Max Wager: $${maxWager}`;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('daily-double-wager').value = ''; // Clear previous wager
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('daily-double-wager').setAttribute('max', maxWager);
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('qa-display').textContent = 'Please place your wager.';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('reveal-btn').classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-container').classList.add('hidden'); // No initial buzz on DD
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('wager-section').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // NORMAL CLUE SETUP
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('qa-points').textContent = `$${currentCard.points}`;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('qa-display').textContent = currentCard.q;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-container').classList.remove('hidden'); // Enable buzzers for a normal clue
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  currentCard.element = cardElement; // Store element reference for later marking
Â  Â  Â  Â  Â  Â  document.getElementById('qa-answer').textContent = currentCard.a;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Handles Daily Double Wager submission
Â  Â  Â  Â  function submitWager() {
Â  Â  Â  Â  Â  Â  const wagerInput = document.getElementById('daily-double-wager');
Â  Â  Â  Â  Â  Â  const wager = parseInt(wagerInput.value);
Â  Â  Â  Â  Â  Â  const maxWager = Math.max(500, Math.abs(teamScores[activeTeam]));

Â  Â  Â  Â  Â  Â  if (isNaN(wager) || wager < 5 || wager > maxWager) {
Â  Â  Â  Â  Â  Â  Â  Â  alert(`Wager must be between $5 and your max available amount: $${maxWager}`);
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  currentWager = wager;
Â  Â  Â  Â  Â  Â  document.getElementById('qa-points').textContent = `$${currentWager} (Daily Double)`;
Â  Â  Â  Â  Â  Â  document.getElementById('qa-display').textContent = currentCard.q; // Show the question now
Â  Â  Â  Â  Â  Â  document.getElementById('wager-section').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-container').classList.remove('hidden'); // Allow buzzing once clue is shown
Â  Â  Â  Â  Â  Â  document.getElementById('reveal-btn').classList.remove('hidden');
Â  Â  Â  Â  }

Â  Â  Â  Â  // Handles click on buzzer button
Â  Â  Â  Â  function buzzerClicked(team) {
Â  Â  Â  Â  Â  Â  // Lock other team's buzzer
Â  Â  Â  Â  Â  Â  const otherTeam = team === 'team1' ? 'team2' : 'team1';
Â  Â  Â  Â  Â  Â  document.getElementById(`buzzer-${otherTeam}`).disabled = true;
Â  Â  Â  Â  Â  Â  document.getElementById(`buzzer-${otherTeam}`).classList.remove('bg-blue-500');
Â  Â  Â  Â  Â  Â  document.getElementById(`buzzer-${otherTeam}`).classList.add('bg-gray-400');

Â  Â  Â  Â  Â  Â  // Highlight current team's buzzer/selection
Â  Â  Â  Â  Â  Â  document.getElementById(`buzzer-${team}`).classList.remove('bg-blue-500');
Â  Â  Â  Â  Â  Â  document.getElementById(`buzzer-${team}`).classList.add('bg-yellow-500');
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Temporarily update active team for scoring
Â  Â  Â  Â  Â  Â  activeTeam = team;
Â  Â  Â  Â  Â  Â  updateScoreDisplay();

Â  Â  Â  Â  Â  Â  // Hide buzzers, show answer reveal button
Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-container').classList.add('hidden');

Â  Â  Â  Â  Â  Â  // In a real game, this is where the player would give the answer.
Â  Â  Â  Â  Â  Â  // For this version, we immediately allow the host to reveal the answer.
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Function to show the answer and scoring buttons
Â  Â  Â  Â  function showAnswer() {
Â  Â  Â  Â  Â  Â  document.getElementById('answer-reveal').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('scoring-btns').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('reveal-btn').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('buzzer-container').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('wager-section').classList.add('hidden');
Â  Â  Â  Â  }

Â  Â  Â  Â  // Function to update the score
Â  Â  Â  Â  function updateScore(result) {
Â  Â  Â  Â  Â  Â  let points = isDailyDouble ? currentWager : currentCard.points;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (result === 'correct') {
Â  Â  Â  Â  Â  Â  Â  Â  teamScores[activeTeam] += points;
Â  Â  Â  Â  Â  Â  } else if (result === 'incorrect') {
Â  Â  Â  Â  Â  Â  Â  Â  teamScores[activeTeam] -= points;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Mark the card as answered
Â  Â  Â  Â  Â  Â  currentCard.element.classList.add('answered');
Â  Â  Â  Â  Â  Â  currentCard.element.textContent = isDailyDouble ? 'DD ANSWERED' : ` $${currentCard.points} Answered`;
Â  Â  Â  Â  Â  Â  answeredCardCount++;
Â  Â  Â  Â  Â  Â  isDailyDouble = false;
Â  Â  Â  Â  Â  Â  currentWager = 0;
Â  Â  Â  Â  Â  Â  closeModal();
Â  Â  Â  Â  Â  Â  updateScoreDisplay();
Â  Â  Â  Â  }

Â  Â  Â  Â  // Function to close the modal
Â  Â  Â  Â  function closeModal() {
Â  Â  Â  Â  Â  Â  document.getElementById('qa-modal').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('qa-modal').classList.remove('flex');
Â  Â  Â  Â  Â  Â  // Reset active team to team1 (or whoever's turn is next)
Â  Â  Â  Â  Â  Â  setActiveTeam('team1');
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- Final Jeopardy Logic ---
Â  Â  Â  Â Â 
Â  Â  Â  Â  function checkFinalJeopardyReady() {
Â  Â  Â  Â  Â  Â  const finalJeopardyBtnContainer = document.getElementById('final-jeopardy-btn-container');
Â  Â  Â  Â  Â  Â  // Check if all cards have been answered
Â  Â  Â  Â  Â  Â  if (answeredCardCount >= totalCards) {
Â  Â  Â  Â  Â  Â  Â  Â  finalJeopardyBtnContainer.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  finalJeopardyBtnContainer.classList.add('hidden');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function startFinalJeopardy() {
Â  Â  Â  Â  Â  Â  document.getElementById('fj-modal').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('fj-modal').classList.add('flex');
Â  Â  Â  Â  Â  Â  document.getElementById('game-board').classList.add('hidden'); // Hide the main board
Â  Â  Â  Â  Â  Â  document.getElementById('final-jeopardy-btn-container').classList.add('hidden');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const wagerInputsDiv = document.getElementById('fj-wager-inputs');
Â  Â  Â  Â  Â  Â  wagerInputsDiv.innerHTML = '';
Â  Â  Â  Â  Â  Â  teamWagers = {};

Â  Â  Â  Â  Â  Â  // Create wager inputs for each team
Â  Â  Â  Â  Â  Â  ['team1', 'team2'].forEach(team => {
Â  Â  Â  Â  Â  Â  Â  Â  const teamName = team === 'team1' ? 'The Compilers' : 'The Auditors';
Â  Â  Â  Â  Â  Â  Â  Â  const currentScore = teamScores[team];
Â  Â  Â  Â  Â  Â  Â  Â  const maxWager = Math.max(0, currentScore);

Â  Â  Â  Â  Â  Â  Â  Â  const teamDiv = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  teamDiv.className = 'p-4 bg-gray-700 rounded-lg shadow-md';
Â  Â  Â  Â  Â  Â  Â  Â  teamDiv.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xl font-bold text-yellow-400 mb-2">${teamName} Score: $${currentScore}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="fj-wager-${team}" placeholder="Enter Wager (Max $${maxWager})"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="p-2 text-xl text-center bg-gray-800 text-white rounded-lg w-full" min="0" max="${maxWager}" />
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  wagerInputsDiv.appendChild(teamDiv);
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // Setup button states
Â  Â  Â  Â  Â  Â  document.getElementById('fj-reveal-clue-btn').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('fj-reveal-answer-btn').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('fj-calculate-btn').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('fj-clue-display').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('fj-results').classList.add('hidden');
Â  Â  Â  Â  }

Â  Â  Â  Â  function revealFinalClue() {
Â  Â  Â  Â  Â  Â  // 1. Store wagers and validate
Â  Â  Â  Â  Â  Â  let allWagersValid = true;
Â  Â  Â  Â  Â  Â  ['team1', 'team2'].forEach(team => {
Â  Â  Â  Â  Â  Â  Â  Â  const input = document.getElementById(`fj-wager-${team}`);
Â  Â  Â  Â  Â  Â  Â  Â  const wager = parseInt(input.value) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const maxWager = parseInt(input.max);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (isNaN(wager) || wager < 0 || wager > maxWager) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert(`Wager for ${team === 'team1' ? 'The Compilers' : 'The Auditors'} must be between $0 and $${maxWager}.`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allWagersValid = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  teamWagers[team] = wager;
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  if (!allWagersValid) return;

Â  Â  Â  Â  Â  Â  // 2. Display clue
Â  Â  Â  Â  Â  Â  document.getElementById('fj-wager-inputs').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('fj-clue-display').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('fj-clue-text').textContent = FINAL_JEOPARDY_CLUE;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 3. Update buttons
Â  Â  Â  Â  Â  Â  document.getElementById('fj-reveal-clue-btn').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('fj-reveal-answer-btn').classList.remove('hidden');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // In a real game, this is where the 30-second timer would start.
Â  Â  Â  Â  }

Â  Â  Â  Â  function revealFinalAnswer() {
Â  Â  Â  Â  Â  Â  document.getElementById('fj-answer-reveal').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('fj-answer-text').textContent = FINAL_JEOPARDY_ANSWER;

Â  Â  Â  Â  Â  Â  document.getElementById('fj-reveal-answer-btn').classList.add('hidden');
Â  Â  Â  Â  Â  Â  document.getElementById('fj-calculate-btn').classList.remove('hidden');
Â  Â  Â  Â  }

Â  Â  Â  Â  function calculateFinalScores() {
Â  Â  Â  Â  Â  Â  const resultsDiv = document.getElementById('fj-results');
Â  Â  Â  Â  Â  Â  resultsDiv.innerHTML = '';
Â  Â  Â  Â  Â  Â  resultsDiv.classList.remove('hidden');

Â  Â  Â  Â  Â  Â  ['team1', 'team2'].forEach(team => {
Â  Â  Â  Â  Â  Â  Â  Â  const teamName = team === 'team1' ? 'The Compilers' : 'The Auditors';
Â  Â  Â  Â  Â  Â  Â  Â  const finalWager = teamWagers[team];
Â  Â  Â  Â  Â  Â  Â  Â  let isCorrect = false; // The host decides this in the game
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // This part requires host input (e.g., checkboxes/buttons for correct/incorrect)
Â  Â  Â  Â  Â  Â  Â  Â  // For simulation, we'll prompt the user for the result:
Â  Â  Â  Â  Â  Â  Â  Â  const result = prompt(`Did ${teamName} get the final answer correct? (Type 'yes' or 'no')`);
Â  Â  Â  Â  Â  Â  Â  Â  isCorrect = result && result.toLowerCase() === 'yes';

Â  Â  Â  Â  Â  Â  Â  Â  if (isCorrect) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  teamScores[team] += finalWager;
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  teamScores[team] -= finalWager;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  const finalScore = teamScores[team];
Â  Â  Â  Â  Â  Â  Â  Â  const outcomeText = isCorrect ? 'Correct! (+)' : 'Incorrect! (-)';
Â  Â  Â  Â  Â  Â  Â  Â  const outcomeColor = isCorrect ? 'text-green-400' : 'text-red-400';

Â  Â  Â  Â  Â  Â  Â  Â  const resultEl = document.createElement('p');
Â  Â  Â  Â  Â  Â  Â  Â  resultEl.innerHTML = `<span class="font-normal text-yellow-400">${teamName}:</span> <span class="${outcomeColor}">${outcomeText} $${finalWager}</span>. **Final Score: $${finalScore}**`;
Â  Â  Â  Â  Â  Â  Â  Â  resultsDiv.appendChild(resultEl);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById('fj-calculate-btn').classList.add('hidden');
Â  Â  Â  Â  Â  Â  // Update the main score display one last time
Â  Â  Â  Â  Â  Â  updateScoreDisplay();
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  alert(`Game Over! Final Scores:\nCompilers: $${teamScores.team1}\nAuditors: $${teamScores.team2}`);
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- Initialization ---
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', initializeBoard);
Â  Â  </script>
</body>
</html>
